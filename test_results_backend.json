{
  "total_tests": 16,
  "passed_tests": 14,
  "failed_tests": 2,
  "success_rate": 87.5,
  "results": [
    {
      "test": "Root Endpoint",
      "status": "✅ PASS",
      "message": "API 2.0.0 - Storage: supabase",
      "details": {
        "version": "2.0.0",
        "features": [
          "Supabase",
          "Local Storage",
          "Hybrid Mode"
        ],
        "storage_type": "supabase"
      },
      "timestamp": "2025-09-22T11:21:49.690625"
    },
    {
      "test": "Health Endpoint",
      "status": "✅ PASS",
      "message": "Sistema healthy - Storage: supabase",
      "details": {
        "total_prayers": 46,
        "total_hours": 30.0,
        "progress": "3.0%",
        "supabase_available": true
      },
      "timestamp": "2025-09-22T11:21:49.893171"
    },
    {
      "test": "Local Data File",
      "status": "✅ PASS",
      "message": "Arquivo local encontrado com 15 orações",
      "details": {
        "file_path": "/app/backend/prayers_data.json",
        "prayer_count": 15,
        "sample_names": [
          "Teste Novo Sistema",
          "Teste Final Sistema",
          "Pedro Fraquete"
        ]
      },
      "timestamp": "2025-09-22T11:21:49.893479"
    },
    {
      "test": "Get Prayers",
      "status": "✅ PASS",
      "message": "Encontradas 46 orações - Storage: supabase",
      "details": {
        "count": 46,
        "sample_prayer": {
          "id": 46,
          "name": "Verificação Final",
          "time": 15,
          "unit": "minutos",
          "datetime": "2025-09-22T11:11:57.502031+00:00",
          "description": "Teste final - tudo funcionando!",
          "created_at": "2025-09-22T11:11:57.541447+00:00",
          "source": "supabase"
        },
        "storage_type": "supabase"
      },
      "timestamp": "2025-09-22T11:21:49.957955"
    },
    {
      "test": "Prayer Stats",
      "status": "✅ PASS",
      "message": "Stats: 46 orações, 30.0h (3.0%)",
      "details": {
        "total_hours": 30.0,
        "total_entries": 46,
        "progress_percentage": 3.0,
        "remaining_hours": 970.0,
        "storage_info": {
          "supabase_available": true,
          "primary_storage": "supabase",
          "backup_storage": "local",
          "supabase_url": "https://ulthrzqgvobultkxlruk.supabase.co..."
        }
      },
      "timestamp": "2025-09-22T11:21:50.022440"
    },
    {
      "test": "Recent Prayers",
      "status": "✅ PASS",
      "message": "Últimas 5 de 46 orações",
      "details": {
        "recent_count": 5,
        "total_prayers": 46,
        "latest_prayer": {
          "id": 46,
          "name": "Verificação Final",
          "time": 15,
          "unit": "minutos",
          "datetime": "2025-09-22T11:11:57.502031+00:00",
          "description": "Teste final - tudo funcionando!",
          "created_at": "2025-09-22T11:11:57.541447+00:00",
          "source": "supabase"
        }
      },
      "timestamp": "2025-09-22T11:21:50.083556"
    },
    {
      "test": "Add Prayer",
      "status": "✅ PASS",
      "message": "Oração adicionada: Maria Silva - 45 minutos",
      "details": {
        "added_prayer": {
          "id": 47,
          "name": "Maria Silva",
          "time_minutes": 45,
          "unit": "minutos",
          "datetime": "2025-09-22T11:21:50.085562+00:00",
          "description": "Oração de intercessão pela família",
          "created_at": "2025-09-22T11:21:50.119321+00:00",
          "updated_at": "2025-09-22T11:21:50.119321+00:00"
        },
        "storage": "unknown"
      },
      "timestamp": "2025-09-22T11:21:50.155846"
    },
    {
      "test": "Update Prayer",
      "status": "✅ PASS",
      "message": "Oração ID 47 atualizada: João Santos (Atualizado) - 60 minutos",
      "details": {
        "prayer_id": 47,
        "updated_name": "João Santos (Atualizado)",
        "updated_time": 60,
        "original_name": "Maria Silva"
      },
      "timestamp": "2025-09-22T11:21:50.316414"
    },
    {
      "test": "Delete Prayer",
      "status": "✅ PASS",
      "message": "Oração ID 48 excluída com sucesso: Teste Para Exclusão",
      "details": {
        "deleted_prayer_id": 48,
        "deleted_name": "Teste Para Exclusão",
        "deleted_time": 30
      },
      "timestamp": "2025-09-22T11:21:50.610342"
    },
    {
      "test": "Delete Prayer - Verification",
      "status": "✅ PASS",
      "message": "Confirmado: Oração ID 48 não aparece mais na listagem",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.696457"
    },
    {
      "test": "Update Nonexistent Prayer",
      "status": "❌ FAIL",
      "message": "Erro inesperado: 404: Atualização só disponível com Supabase",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.761079"
    },
    {
      "test": "Delete Nonexistent Prayer",
      "status": "❌ FAIL",
      "message": "Erro inesperado: 404: Exclusão só disponível com Supabase",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.830532"
    },
    {
      "test": "CRUD Workflow Complete",
      "status": "✅ PASS",
      "message": "Workflow CRUD completo executado com sucesso: CREATE → READ → UPDATE → DELETE → VERIFY",
      "details": {
        "prayer_id": 49,
        "original_name": "Ana Costa - CRUD Test",
        "updated_name": "Ana Costa - CRUD Test (Atualizada)",
        "final_status": "excluída com sucesso"
      },
      "timestamp": "2025-09-22T11:21:51.340579"
    },
    {
      "test": "Stats After Operations",
      "status": "✅ PASS",
      "message": "Estatísticas atualizadas corretamente: 47→48 orações, 31.00→33.00h",
      "details": {
        "initial_count": 47,
        "new_count": 48,
        "initial_hours": 31.0,
        "new_hours": 33.0,
        "hours_added": 2.0
      },
      "timestamp": "2025-09-22T11:21:51.554713"
    },
    {
      "test": "Supabase Sync",
      "status": "✅ PASS",
      "message": "Sincronização com Supabase funcionando",
      "details": {
        "success": true,
        "message": "Sincronização concluída",
        "data": {
          "success": true,
          "migrated_count": 19,
          "total_local": 19,
          "errors": []
        }
      },
      "timestamp": "2025-09-22T11:21:53.090774"
    },
    {
      "test": "Backup Creation",
      "status": "✅ PASS",
      "message": "Backup criado com Backup criado com 67 orações",
      "details": {
        "success": true,
        "file": "/app/backup_orações_20250922_112153.json",
        "count": 67
      },
      "timestamp": "2025-09-22T11:21:53.325787"
    }
  ],
  "failures": [
    {
      "test": "Update Nonexistent Prayer",
      "status": "❌ FAIL",
      "message": "Erro inesperado: 404: Atualização só disponível com Supabase",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.761079"
    },
    {
      "test": "Delete Nonexistent Prayer",
      "status": "❌ FAIL",
      "message": "Erro inesperado: 404: Exclusão só disponível com Supabase",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.830532"
    }
  ],
  "admin_tests": [
    {
      "test": "Update Prayer",
      "status": "✅ PASS",
      "message": "Oração ID 47 atualizada: João Santos (Atualizado) - 60 minutos",
      "details": {
        "prayer_id": 47,
        "updated_name": "João Santos (Atualizado)",
        "updated_time": 60,
        "original_name": "Maria Silva"
      },
      "timestamp": "2025-09-22T11:21:50.316414"
    },
    {
      "test": "Delete Prayer",
      "status": "✅ PASS",
      "message": "Oração ID 48 excluída com sucesso: Teste Para Exclusão",
      "details": {
        "deleted_prayer_id": 48,
        "deleted_name": "Teste Para Exclusão",
        "deleted_time": 30
      },
      "timestamp": "2025-09-22T11:21:50.610342"
    },
    {
      "test": "Delete Prayer - Verification",
      "status": "✅ PASS",
      "message": "Confirmado: Oração ID 48 não aparece mais na listagem",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.696457"
    },
    {
      "test": "Update Nonexistent Prayer",
      "status": "❌ FAIL",
      "message": "Erro inesperado: 404: Atualização só disponível com Supabase",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.761079"
    },
    {
      "test": "Delete Nonexistent Prayer",
      "status": "❌ FAIL",
      "message": "Erro inesperado: 404: Exclusão só disponível com Supabase",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.830532"
    },
    {
      "test": "CRUD Workflow Complete",
      "status": "✅ PASS",
      "message": "Workflow CRUD completo executado com sucesso: CREATE → READ → UPDATE → DELETE → VERIFY",
      "details": {
        "prayer_id": 49,
        "original_name": "Ana Costa - CRUD Test",
        "updated_name": "Ana Costa - CRUD Test (Atualizada)",
        "final_status": "excluída com sucesso"
      },
      "timestamp": "2025-09-22T11:21:51.340579"
    }
  ],
  "admin_successes": [
    {
      "test": "Update Prayer",
      "status": "✅ PASS",
      "message": "Oração ID 47 atualizada: João Santos (Atualizado) - 60 minutos",
      "details": {
        "prayer_id": 47,
        "updated_name": "João Santos (Atualizado)",
        "updated_time": 60,
        "original_name": "Maria Silva"
      },
      "timestamp": "2025-09-22T11:21:50.316414"
    },
    {
      "test": "Delete Prayer",
      "status": "✅ PASS",
      "message": "Oração ID 48 excluída com sucesso: Teste Para Exclusão",
      "details": {
        "deleted_prayer_id": 48,
        "deleted_name": "Teste Para Exclusão",
        "deleted_time": 30
      },
      "timestamp": "2025-09-22T11:21:50.610342"
    },
    {
      "test": "Delete Prayer - Verification",
      "status": "✅ PASS",
      "message": "Confirmado: Oração ID 48 não aparece mais na listagem",
      "details": null,
      "timestamp": "2025-09-22T11:21:50.696457"
    },
    {
      "test": "CRUD Workflow Complete",
      "status": "✅ PASS",
      "message": "Workflow CRUD completo executado com sucesso: CREATE → READ → UPDATE → DELETE → VERIFY",
      "details": {
        "prayer_id": 49,
        "original_name": "Ana Costa - CRUD Test",
        "updated_name": "Ana Costa - CRUD Test (Atualizada)",
        "final_status": "excluída com sucesso"
      },
      "timestamp": "2025-09-22T11:21:51.340579"
    }
  ]
}